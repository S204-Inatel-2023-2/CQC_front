{"ast":null,"code":"import _asyncToGenerator from\"@babel/runtime/helpers/asyncToGenerator\";import _classCallCheck from\"@babel/runtime/helpers/classCallCheck\";import _createClass from\"@babel/runtime/helpers/createClass\";function _defineProperty(obj,key,value){key=_toPropertyKey(key);if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true});}else{obj[key]=value;}return obj;}function _toPropertyKey(arg){var key=_toPrimitive(arg,\"string\");return typeof key===\"symbol\"?key:String(key);}function _toPrimitive(input,hint){if(typeof input!==\"object\"||input===null)return input;var prim=input[Symbol.toPrimitive];if(prim!==undefined){var res=prim.call(input,hint||\"default\");if(typeof res!==\"object\")return res;throw new TypeError(\"@@toPrimitive must return a primitive value.\");}return(hint===\"string\"?String:Number)(input);}import NativeEventEmitter from\"react-native-web/dist/exports/NativeEventEmitter\";import NativeModules from\"react-native-web/dist/exports/NativeModules\";import findNodeHandle from\"react-native-web/dist/exports/findNodeHandle\";import{nativeShouldBeMock}from\"../reanimated2/PlatformChecker\";export var JSPropUpdater=function(){function JSPropUpdater(){_classCallCheck(this,JSPropUpdater);_defineProperty(this,\"_reanimatedEventEmitter\",void 0);var reanimatedModule;if(nativeShouldBeMock()){reanimatedModule=JSPropUpdater._reanimatedModuleMock;}else{reanimatedModule=NativeModules.ReanimatedModule;}this._reanimatedEventEmitter=new NativeEventEmitter(reanimatedModule);}_createClass(JSPropUpdater,[{key:\"addOnJSPropsChangeListener\",value:function addOnJSPropsChangeListener(animatedComponent){var viewTag=findNodeHandle(animatedComponent);JSPropUpdater._tagToComponentMapping.set(viewTag,animatedComponent);if(JSPropUpdater._tagToComponentMapping.size===1){this._reanimatedEventEmitter.addListener('onReanimatedPropsChange',JSPropUpdater._listener);}}},{key:\"removeOnJSPropsChangeListener\",value:function removeOnJSPropsChangeListener(animatedComponent){var viewTag=findNodeHandle(animatedComponent);JSPropUpdater._tagToComponentMapping.delete(viewTag);if(JSPropUpdater._tagToComponentMapping.size===0){this._reanimatedEventEmitter.removeAllListeners('onReanimatedPropsChange');}}}],[{key:\"_listener\",value:function _listener(data){var component=JSPropUpdater._tagToComponentMapping.get(data.viewTag);component&&component._updateFromNative(data.props);}}]);return JSPropUpdater;}();_defineProperty(JSPropUpdater,\"_tagToComponentMapping\",new Map());_defineProperty(JSPropUpdater,\"_reanimatedModuleMock\",{addListener:function(){var _addListener=_asyncToGenerator(function*(){});function addListener(){return _addListener.apply(this,arguments);}return addListener;}(),removeListeners:function(){var _removeListeners=_asyncToGenerator(function*(){});function removeListeners(){return _removeListeners.apply(this,arguments);}return removeListeners;}()});","map":{"version":3,"names":["nativeShouldBeMock","JSPropUpdater","_classCallCheck","_defineProperty","reanimatedModule","_reanimatedModuleMock","NativeModules","ReanimatedModule","_reanimatedEventEmitter","NativeEventEmitter","_createClass","key","value","addOnJSPropsChangeListener","animatedComponent","viewTag","findNodeHandle","_tagToComponentMapping","set","size","addListener","_listener","removeOnJSPropsChangeListener","delete","removeAllListeners","data","component","get","_updateFromNative","props","Map","_addListener","_asyncToGenerator","apply","arguments","removeListeners","_removeListeners"],"sources":["C:\\Users\\Davi\\Desktop\\projeto\\telaLogin\\node_modules\\react-native-reanimated\\lib\\module\\createAnimatedComponent\\JSPropUpdater.ts"],"sourcesContent":["import {\n  NativeEventEmitter,\n  NativeModules,\n  findNodeHandle,\n} from 'react-native';\nimport { nativeShouldBeMock } from '../reanimated2/PlatformChecker';\nimport type { StyleProps } from '../reanimated2';\n\ninterface ListenerData {\n  viewTag: number;\n  props: StyleProps;\n}\n\nexport class JSPropUpdater {\n  private static _tagToComponentMapping = new Map();\n  private _reanimatedEventEmitter: NativeEventEmitter;\n  private static _reanimatedModuleMock = {\n    async addListener(): Promise<void> {\n      // noop\n    },\n    async removeListeners(): Promise<void> {\n      // noop\n    },\n  };\n\n  private static _listener(data: ListenerData) {\n    const component = JSPropUpdater._tagToComponentMapping.get(data.viewTag);\n    component && component._updateFromNative(data.props);\n  }\n\n  constructor() {\n    let reanimatedModule: typeof JSPropUpdater._reanimatedModuleMock;\n    if (nativeShouldBeMock()) {\n      reanimatedModule = JSPropUpdater._reanimatedModuleMock;\n    } else {\n      reanimatedModule = NativeModules.ReanimatedModule;\n    }\n    this._reanimatedEventEmitter = new NativeEventEmitter(reanimatedModule);\n  }\n\n  public addOnJSPropsChangeListener(\n    animatedComponent: React.Component<unknown, unknown>\n  ) {\n    const viewTag = findNodeHandle(animatedComponent);\n    JSPropUpdater._tagToComponentMapping.set(viewTag, animatedComponent);\n    if (JSPropUpdater._tagToComponentMapping.size === 1) {\n      this._reanimatedEventEmitter.addListener(\n        'onReanimatedPropsChange',\n        JSPropUpdater._listener\n      );\n    }\n  }\n\n  public removeOnJSPropsChangeListener(\n    animatedComponent: React.Component<unknown, unknown>\n  ) {\n    const viewTag = findNodeHandle(animatedComponent);\n    JSPropUpdater._tagToComponentMapping.delete(viewTag);\n    if (JSPropUpdater._tagToComponentMapping.size === 0) {\n      this._reanimatedEventEmitter.removeAllListeners(\n        'onReanimatedPropsChange'\n      );\n    }\n  }\n}\n"],"mappings":"ojCAKA,OAASA,kBAAkB,sCAQ3B,UAAa,CAAAC,aAAa,YAiBxB,SAAAA,cAAA,CAAc,CAAAC,eAAA,MAAAD,aAAA,EAAAE,eAAA,wCACZ,GAAI,CAAAC,gBAA4D,CAChE,GAAIJ,kBAAkB,EAAE,CAAE,CACxBI,gBAAgB,CAAGH,aAAa,CAACI,qBAAqB,CACxD,CAAC,IAAM,CACLD,gBAAgB,CAAGE,aAAa,CAACC,gBAAgB,CACnD,CACA,IAAI,CAACC,uBAAuB,CAAG,GAAI,CAAAC,kBAAkB,CAACL,gBAAgB,CAAC,CACzE,CAAAM,YAAA,CAAAT,aAAA,GAAAU,GAAA,8BAAAC,KAAA,CAEO,SAAAC,2BACLC,iBAAoD,CACpD,CACA,GAAM,CAAAC,OAAO,CAAGC,cAAc,CAACF,iBAAiB,CAAC,CACjDb,aAAa,CAACgB,sBAAsB,CAACC,GAAG,CAACH,OAAO,CAAED,iBAAiB,CAAC,CACpE,GAAIb,aAAa,CAACgB,sBAAsB,CAACE,IAAI,GAAK,CAAC,CAAE,CACnD,IAAI,CAACX,uBAAuB,CAACY,WAAW,CACtC,yBAAyB,CACzBnB,aAAa,CAACoB,SAAS,CACxB,CACH,CACF,IAAAV,GAAA,iCAAAC,KAAA,CAEO,SAAAU,8BACLR,iBAAoD,CACpD,CACA,GAAM,CAAAC,OAAO,CAAGC,cAAc,CAACF,iBAAiB,CAAC,CACjDb,aAAa,CAACgB,sBAAsB,CAACM,MAAM,CAACR,OAAO,CAAC,CACpD,GAAId,aAAa,CAACgB,sBAAsB,CAACE,IAAI,GAAK,CAAC,CAAE,CACnD,IAAI,CAACX,uBAAuB,CAACgB,kBAAkB,CAC7C,yBAAyB,CAC1B,CACH,CACF,MAAAb,GAAA,aAAAC,KAAA,CAtCA,SAAAS,UAAyBI,IAAkB,CAAE,CAC3C,GAAM,CAAAC,SAAS,CAAGzB,aAAa,CAACgB,sBAAsB,CAACU,GAAG,CAACF,IAAI,CAACV,OAAO,CAAC,CACxEW,SAAS,EAAIA,SAAS,CAACE,iBAAiB,CAACH,IAAI,CAACI,KAAK,CAAC,CACtD,YAAA5B,aAAA,KAoCDE,eAAA,CAnDYF,aAAa,0BACgB,GAAI,CAAA6B,GAAG,EAAE,EAAA3B,eAAA,CADtCF,aAAa,yBAGe,CAC/BmB,WAAW,gBAAAW,YAAA,CAAAC,iBAAA,YAAkB,CACjC,CACD,WAAAZ,YAAA,SAAAW,YAAA,CAAAE,KAAA,MAAAC,SAAA,UAAAd,WAAA,KACKe,eAAe,gBAAAC,gBAAA,CAAAJ,iBAAA,YAAkB,CACrC,YAAAG,gBAAA,SAAAC,gBAAA,CAAAH,KAAA,MAAAC,SAAA,UAAAC,eAAA,IAEJ,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}